(function(t){function e(e){for(var n,s,a=e[0],l=e[1],c=e[2],f=0,d=[];f<a.length;f++)s=a[f],o[s]&&d.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,a=1;a<i.length;a++){var l=i[a];0!==o[l]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},o={app:0},r=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/pxpaint/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=l;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},2495:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bg-gray-100 h-screen w-screen p-4 flex justify-around overflow-x-auto",attrs:{id:"app"}},[i("div",{staticClass:"container flex flex-col md:flex-row"},[i("div",{staticClass:"md:w-1/2 mb-4 md:mb-0 md:mr-4"},[i("display",{attrs:{width:this.width,pixels:t.pixels},on:{update:t.update}})],1),i("div",{staticClass:"md:w-1/2 flex flex-col"},[i("div",{staticClass:"rounded mb-4 p-4 bg-gray-300"},[i("div",{staticClass:"text-gray-900 text-xl leading-relaxed"},[t._v("\n          Origin\n        ")]),i("div",{staticClass:"flex mt-2"},[i("number-input",{staticClass:"mr-2",attrs:{title:"x:"},model:{value:t.origin.x,callback:function(e){t.$set(t.origin,"x",e)},expression:"origin.x"}}),i("number-input",{attrs:{title:"y:"},model:{value:t.origin.y,callback:function(e){t.$set(t.origin,"y",e)},expression:"origin.y"}})],1)]),i("div",{staticClass:"rounded mb-4 p-4 bg-gray-300"},[i("div",{staticClass:"text-gray-900 text-xl leading-relaxed"},[t._v("\n          Offset\n        ")]),i("div",{staticClass:"flex mt-2"},[i("number-input",{staticClass:"mr-2",attrs:{title:"x:"},model:{value:t.offset.x,callback:function(e){t.$set(t.offset,"x",e)},expression:"offset.x"}}),i("number-input",{attrs:{title:"y:"},model:{value:t.offset.y,callback:function(e){t.$set(t.offset,"y",e)},expression:"offset.y"}})],1)]),i("div",{staticClass:"rounded mb-4 p-4 bg-gray-300 flex flex-shrink-0"},[i("number-input",{staticClass:"mr-2 flex-shrink-0",attrs:{title:"w:",initial:this.width},model:{value:t.width,callback:function(e){t.width=e},expression:"width"}}),i("color-picker",{model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1),i("px-output",{attrs:{"pixel-codes":t.codes}})],1)])])},r=[],s=(i("8e6e"),i("456d"),i("bd86")),a=(i("ac6a"),i("6c7b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex flex-col",on:{mousedown:this.downHandler,mouseup:this.upHandler,mouseleave:function(e){t.mousedown=!1}}},[i("div",{staticClass:"Display relative w-100"},[i("div",{ref:"display",staticClass:"Display__Canvas p-4 rounded bg-gray-300 absolute top-0 bottom-0 left-0 right-0 flex flex-col"},[i("canvas",{ref:"canvas"})])])])}),l=[],c=(i("28a5"),i("768b")),u=i("75fc"),f=(i("c5f6"),{props:{pixels:{type:Object,default:function(){}},width:{type:Number,default:0,required:!0}},data:function(){return{keys:[],dirty:!1,toChange:[],toDelete:[],mousedown:!1,lastpos:{x:-1,y:-1},downpos:{x:-1,y:-1}}},mounted:function(){this.sizeCanvas(),this.clear(),window.addEventListener("mousemove",this.moveHandler),requestAnimationFrame(this.draw)},destroyed:function(){window.removeEventListener("mousemove",this.moveHandler)},watch:{width:function(){this.clear()},pixels:function(t,e){var i=this,n=Object.keys(t),o=Object(u["a"])(this.keys);this.toDelete=o.filter(function(t){return-1===n.indexOf(t)}),this.toChange=n.filter(function(n){return t[n].state?-1===o.indexOf(n)||t[n].color!==e[n].color:(i.toDelete.push(n),!1)}),this.keys=n.filter(function(e){return t[e].state}),this.dirty=!0}},computed:{range:function(){return Array(this.width).fill(null)},canvas:function(){return this.$refs.canvas},context:function(){return this.canvas.getContext("2d")},height:function(){return this.width}},methods:{draw:function(){var t=this;this.dirty&&(this.toDelete.forEach(function(e){var i=e.split(","),n=Object(c["a"])(i,2),o=n[0],r=n[1];t.drawPixel({x:o,y:r,color:"",state:!1})}),this.toChange.forEach(function(e){t.drawPixel(t.pixels[e])})),requestAnimationFrame(this.draw),this.dirty=!1},sizeCanvas:function(){this.canvas.style.width="100%",this.canvas.style.height="100%";var t=2*this.canvas.offsetWidth,e=2*this.canvas.offsetHeight,i=Math.ceil(t/this.width)*this.width,n=Math.ceil(e/this.height)*this.height;this.canvas.width=i,this.canvas.height=n},drawPixel:function(t){var e=t.color,i=t.x,n=t.y,o=t.state;this.context.save();var r=this.canvas.width/this.width,s=this.canvas.height/this.height,a=i*r,l=n*s;this.context.fillStyle=o?e:"white",this.context.fillRect(a,l,r,s),this.context.restore()},clear:function(){this.context.save(),this.context.fillStyle="white",this.context.fillRect(0,0,this.canvas.height,this.canvas.width),this.context.restore()},getXY:function(t){var e=t.x,i=t.y,n=16,o=this.$refs.display.getBoundingClientRect(),r=o.top,s=o.left,a=o.width,l=o.height;return s+=n,r+=n,a-=2*n,l-=2*n,e-=s,i-=r,e/=a,i/=l,{x:e,y:i}},downHandler:function(t){var e=t.clientX,i=t.clientY;this.mousedown=!0;var n=this.getXY({x:e,y:i}),o=n.x,r=n.y;if(o>0&&o<1&&r>0&&r<1){var s=Math.floor(o*this.width),a=Math.floor(r*this.width);this.downpos.x===s&&this.downpos.y===a||(this.downpos.x=s,this.downpos.y=a)}},upHandler:function(t){var e=t.clientX,i=t.clientY;this.mousedown=!1;var n=this.getXY({x:e,y:i}),o=n.x,r=n.y;if(o>0&&o<1&&r>0&&r<1){var s=Math.floor(o*this.width),a=Math.floor(r*this.width);this.downpos.x!==s&&this.downpos.y!==a||this.$emit("update",{x:s,y:a})}},moveHandler:function(t){var e=t.clientX,i=t.clientY,n=this.getXY({x:e,y:i}),o=n.x,r=n.y;if(o>0&&o<1&&r>0&&r<1&&this.mousedown){var s=Math.floor(o*this.width),a=Math.floor(r*this.width);this.lastpos.x===s&&this.lastpos.y===a||(this.$emit("update",{x:s,y:a},!0),this.lastpos.x=s,this.lastpos.y=a)}},hoverHandler:function(t,e){var i=e.x,n=e.y;this.mousedown&&this.$emit("update",{x:i,y:n},!0)},getColor:function(t){var e=t.x,i=t.y,n=!!this.pixels["".concat(e,",").concat(i)]&&this.pixels["".concat(e,",").concat(i)].state;return n?this.pixels["".concat(e,",").concat(i)].color:"white"}}}),d=f,h=(i("dd49"),i("2877")),p=Object(h["a"])(d,a,l,!1,null,"d48cf82e",null),x=p.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"flex w-1/2 justify-between bg-gray-200 py-2 px-3 rounded items-center"},[t._v("\n  "+t._s(t.title)+"\n  "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.value,expression:"value",modifiers:{number:!0}}],staticClass:"rounded-sm w-1/2 ml-2 flex-1 mr-1 bg-gray-200 text-right text-xl px-2",attrs:{type:"number"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),i("button",{staticClass:"rounded h-5 w-5 mr-1",on:{click:function(e){t.value++}}},[t._v("\n    ➕\n  ")]),i("button",{staticClass:"rounded h-5 w-5",on:{click:function(e){t.value--}}},[t._v("\n    ➖\n  ")])])},y=[],m={props:{title:{type:String,default:""},initial:{type:Number,default:0}},data:function(){return{value:this.initial}},watch:{value:function(){this.$emit("input",this.value)}}},g=m,w=Object(h["a"])(g,v,y,!1,null,"2e4dc3e3",null),b=w.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-4 rounded bg-white w-full"},t._l(t.pixelCodes,function(e){var n=e.x,o=e.y,r=e.color;return i("pre",{key:"pxcode"+n+","+o},[t._v(t._s("("+n+", "+o+") "+r))])}),0)},C=[],j={props:{pixelCodes:{type:Array,default:function(){return[]}}}},_=j,k=Object(h["a"])(_,O,C,!1,null,null,null),P=k.exports,$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"flex w-1/2 justify-between bg-gray-200 py-2 px-3 rounded items-center"},[t._v("\n  Color:\n  "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"rounded-sm w-1/2 ml-2 flex-1 mr-1 bg-gray-200 text-right text-xl px-2",attrs:{type:"color"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})])},E=[],M={props:{initial:{type:String,default:""}},data:function(){return{value:this.initial}},watch:{value:function(){this.$emit("input",this.value)}}},S=M,D=Object(h["a"])(S,$,E,!1,null,"3b80dcee",null),A=D.exports;function H(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function N(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?H(i,!0).forEach(function(e){Object(s["a"])(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):H(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var X={name:"app",components:{display:x,numberInput:b,pxOutput:P,colorPicker:A},data:function(){return{offset:{x:0,y:0},origin:{x:0,y:0},width:20,color:"#000000"}},computed:{getEmptyMatrix:function(){var t=this;return Array(this.width).fill(null).map(function(){return Array(t.width).fill(null)})},pixels:function(){var t=this,e={};return this.getEmptyMatrix.forEach(function(i,n){return i.forEach(function(i,o){var r=t.$store.getters.getPixel({x:o+t.origin.x,y:n+t.origin.y});r&&t.$set(e,"".concat(o,",").concat(n),N({},r,{x:r.x-t.origin.x,y:r.y-t.origin.y}))})}),e},codes:function(){var t=this,e=[];return Object.keys(this.$store.state.pixels).forEach(function(i){var n=t.$store.state.pixels[i];n.state&&e.push({x:n.x+t.offset.x,y:n.y+t.offset.y,color:n.color})}),e}},methods:{update:function(t){var e=t.x,i=t.y,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!this.pixels["".concat(e,",").concat(i)]||!this.pixels["".concat(e,",").concat(i)].state;o=n||o,o?(this.$set(this.pixels,"".concat(e,",").concat(i),N({},this.pixels["".concat(e,",").concat(i)],{color:this.color,state:o})),this.$store.commit("setPixel",{x:e+this.origin.x,y:i+this.origin.y,state:o,color:this.color})):(this.$delete(this.pixels,"".concat(e,",").concat(i)),this.$store.commit("deletePixel",{x:e+this.origin.x,y:i+this.origin.y}))}}},Y=X,q=Object(h["a"])(Y,o,r,!1,null,null,null),F=q.exports,R=i("9483");Object(R["a"])("".concat("/pxpaint/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});i("ba8c");var T=i("2f62");n["a"].use(T["a"]);var z=new T["a"].Store({state:{pixels:{}},mutations:{setPixel:function(t,e){n["a"].set(t.pixels,"".concat(e.x,",").concat(e.y),e)},deletePixel:function(t,e){n["a"].delete(t.pixels,"".concat(e.x,",").concat(e.y))}},getters:{getPixel:function(t){return function(e){var i=e.x,n=e.y;return t.pixels["".concat(i,",").concat(n)]}}},actions:{}});n["a"].config.productionTip=!1,new n["a"]({store:z,render:function(t){return t(F)}}).$mount("#app")},ba8c:function(t,e,i){},dd49:function(t,e,i){"use strict";var n=i("2495"),o=i.n(n);o.a}});
//# sourceMappingURL=app.928ff7d3.js.map